<html>
<head>
    <title>Game Multiplayer</title>
    <style>
        #screen {
          border: 10px solid #CCC;
          image-rendering: pixelated;
          image-rendering: crisp-edges;
          image-rendering: -moz-crisp-edges;
          width: 400px;
          height: 400px;
        }
    </style>
</head>
    <body>
        <canvas id="screen" width="" height=""></canvas>
    </body>
    <script type="module">
        import createKeyboardListener from '../keyboard-listener.js';
        import renderScreen from '../render-screen.js';
        import createGame from '../game.js';

        const currentPlayerId = 'player1'
        const game = createGame();
        const canvas = document.getElementById('screen');
        canvas.setAttribute('width', game.state.screen.width);
        canvas.setAttribute('height', game.state.screen.height);
        renderScreen(canvas, game, requestAnimationFrame);

        const keyboardListener = createKeyboardListener(document);
        keyboardListener.subscribe(game.movePlayer)

        game.addPlayer({ playerId: 'player1', playerX: 0, playerY: 0 });
        game.addFruit({ fruitId: 'fruit1', fruitX: 5, fruitY: 5 });
        game.addFruit({ fruitId: 'fruit2', fruitX: 7, fruitY: 5 });

    </script>
</html>
